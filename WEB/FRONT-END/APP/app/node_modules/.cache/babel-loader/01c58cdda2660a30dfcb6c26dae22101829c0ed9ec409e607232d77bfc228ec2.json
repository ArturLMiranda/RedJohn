{"ast":null,"code":"import axios from 'axios';\nexport const EditarAtividade = async (atividadeId, titulo, descricao, demandante, responsaveis, validade, status) => {\n  if (!atividadeId) {\n    console.log(\"ID da atividade não encontrado.\");\n    return;\n  }\n\n  // Validação de data\n  const isDataValida = !isNaN(Date.parse(validade));\n  if (!isDataValida) {\n    console.error(\"Data de validade inválida:\", validade);\n    return;\n  }\n\n  // Garantir tipos corretos e ausência de confusão entre campos\n  const dadosAtualizados = {\n    titulo: String(titulo).trim(),\n    descricao: String(descricao).trim(),\n    demandante: parseInt(demandante),\n    responsaveis: Array.isArray(responsaveis) ? responsaveis.map(id => parseInt(id)) : [parseInt(responsaveis)],\n    validade,\n    // nome do campo corrigido\n    status: String(status).trim()\n  };\n  try {\n    console.log(\"Payload enviado:\", dadosAtualizados);\n    const response = await axios.put(`http://localhost:8000/api/atividades/${atividadeId}/editar/`, dadosAtualizados, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(\"Atividade editada com sucesso:\", response.data);\n  } catch (error) {\n    var _error$response;\n    console.error(\"Erro ao editar atividade:\", error);\n    if ((_error$response = error.response) !== null && _error$response !== void 0 && _error$response.data) {\n      console.error(\"Detalhes do erro:\", error.response.data);\n    }\n  }\n};\n_c = EditarAtividade;\nexport default EditarAtividade;\nvar _c;\n$RefreshReg$(_c, \"EditarAtividade\");","map":{"version":3,"names":["axios","EditarAtividade","atividadeId","titulo","descricao","demandante","responsaveis","validade","status","console","log","isDataValida","isNaN","Date","parse","error","dadosAtualizados","String","trim","parseInt","Array","isArray","map","id","response","put","headers","data","_error$response","_c","$RefreshReg$"],"sources":["C:/Users/SAMSUNG/Desktop/ONEX/RedJohn/WEB/FRONT-END/APP/app/src/componentes/utils/home/EditarAtividade.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const EditarAtividade = async (atividadeId, titulo, descricao, demandante, responsaveis, validade, status) => {\r\n    if (!atividadeId) {\r\n        console.log(\"ID da atividade não encontrado.\");\r\n        return;\r\n    }\r\n\r\n    // Validação de data\r\n    const isDataValida = !isNaN(Date.parse(validade));\r\n    if (!isDataValida) {\r\n        console.error(\"Data de validade inválida:\", validade);\r\n        return;\r\n    }\r\n\r\n    // Garantir tipos corretos e ausência de confusão entre campos\r\n    const dadosAtualizados = {\r\n        titulo: String(titulo).trim(),\r\n        descricao: String(descricao).trim(),\r\n        demandante: parseInt(demandante),\r\n        responsaveis: Array.isArray(responsaveis)\r\n            ? responsaveis.map(id => parseInt(id))\r\n            : [parseInt(responsaveis)],\r\n        validade, // nome do campo corrigido\r\n        status: String(status).trim()\r\n    };\r\n\r\n    try {\r\n        console.log(\"Payload enviado:\", dadosAtualizados);\r\n\r\n        const response = await axios.put(\r\n            `http://localhost:8000/api/atividades/${atividadeId}/editar/`,\r\n            dadosAtualizados,\r\n            {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                }\r\n            }\r\n        );\r\n\r\n        console.log(\"Atividade editada com sucesso:\", response.data);\r\n    } catch (error) {\r\n        console.error(\"Erro ao editar atividade:\", error);\r\n        if (error.response?.data) {\r\n            console.error(\"Detalhes do erro:\", error.response.data);\r\n        }\r\n    }\r\n};\r\n\r\nexport default EditarAtividade"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAOC,WAAW,EAAEC,MAAM,EAAEC,SAAS,EAAEC,UAAU,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,MAAM,KAAK;EACjH,IAAI,CAACN,WAAW,EAAE;IACdO,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9C;EACJ;;EAEA;EACA,MAAMC,YAAY,GAAG,CAACC,KAAK,CAACC,IAAI,CAACC,KAAK,CAACP,QAAQ,CAAC,CAAC;EACjD,IAAI,CAACI,YAAY,EAAE;IACfF,OAAO,CAACM,KAAK,CAAC,4BAA4B,EAAER,QAAQ,CAAC;IACrD;EACJ;;EAEA;EACA,MAAMS,gBAAgB,GAAG;IACrBb,MAAM,EAAEc,MAAM,CAACd,MAAM,CAAC,CAACe,IAAI,CAAC,CAAC;IAC7Bd,SAAS,EAAEa,MAAM,CAACb,SAAS,CAAC,CAACc,IAAI,CAAC,CAAC;IACnCb,UAAU,EAAEc,QAAQ,CAACd,UAAU,CAAC;IAChCC,YAAY,EAAEc,KAAK,CAACC,OAAO,CAACf,YAAY,CAAC,GACnCA,YAAY,CAACgB,GAAG,CAACC,EAAE,IAAIJ,QAAQ,CAACI,EAAE,CAAC,CAAC,GACpC,CAACJ,QAAQ,CAACb,YAAY,CAAC,CAAC;IAC9BC,QAAQ;IAAE;IACVC,MAAM,EAAES,MAAM,CAACT,MAAM,CAAC,CAACU,IAAI,CAAC;EAChC,CAAC;EAED,IAAI;IACAT,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEM,gBAAgB,CAAC;IAEjD,MAAMQ,QAAQ,GAAG,MAAMxB,KAAK,CAACyB,GAAG,CAC5B,wCAAwCvB,WAAW,UAAU,EAC7Dc,gBAAgB,EAChB;MACIU,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CACJ,CAAC;IAEDjB,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEc,QAAQ,CAACG,IAAI,CAAC;EAChE,CAAC,CAAC,OAAOZ,KAAK,EAAE;IAAA,IAAAa,eAAA;IACZnB,OAAO,CAACM,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,KAAAa,eAAA,GAAIb,KAAK,CAACS,QAAQ,cAAAI,eAAA,eAAdA,eAAA,CAAgBD,IAAI,EAAE;MACtBlB,OAAO,CAACM,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAACS,QAAQ,CAACG,IAAI,CAAC;IAC3D;EACJ;AACJ,CAAC;AAACE,EAAA,GA7CW5B,eAAe;AA+C5B,eAAeA,eAAe;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}